import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/pwa-install-tooltip.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=8973d617"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react.js?v=8973d617"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"];
import { Info, X } from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/lucide-react.js?v=9fe1beea";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger
} from "/src/components/ui/tooltip.tsx";
import { Button } from "/src/components/ui/button.tsx";
import { usePWAInstall } from "/src/hooks/use-pwa-install.tsx";
export function PWAInstallTooltip() {
  _s();
  const { isInstallable, canInstall, operatingSystem, isInstalled } = usePWAInstall();
  const [showTooltip, setShowTooltip] = useState(false);
  useEffect(() => {
    if (isInstalled || !canInstall) {
      return;
    }
    const hasSeenTooltip = localStorage.getItem("pwa-tooltip-seen");
    if (hasSeenTooltip) {
      return;
    }
    const timer = setTimeout(() => {
      setShowTooltip(true);
      localStorage.setItem("pwa-tooltip-seen", "true");
    }, 6e4);
    return () => clearTimeout(timer);
  }, [isInstalled, canInstall]);
  if (!showTooltip) return null;
  const getInstallTip = () => {
    switch (operatingSystem) {
      case "ios":
        return `Astuce : Ajoutez cette app à votre écran d'accueil pour un accès rapide ! Appuyez sur Partager puis "Sur l'écran d'accueil"`;
      case "android":
        return "Astuce : Installez l'app pour recevoir des notifications et y accéder rapidement depuis votre écran d'accueil !";
      default:
        return "Astuce : Installez l'application pour un accès rapide et des notifications instantanées !";
    }
  };
  return /* @__PURE__ */ jsxDEV(TooltipProvider, { children: /* @__PURE__ */ jsxDEV(Tooltip, { defaultOpen: true, children: [
    /* @__PURE__ */ jsxDEV(TooltipTrigger, { asChild: true, children: /* @__PURE__ */ jsxDEV(
      Button,
      {
        variant: "ghost",
        size: "icon",
        className: "fixed bottom-20 right-4 z-40 rounded-full bg-primary/10 hover:bg-primary/20",
        onClick: () => setShowTooltip(false),
        "data-testid": "button-tooltip-info",
        children: /* @__PURE__ */ jsxDEV(Info, { className: "h-5 w-5" }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
          lineNumber: 80,
          columnNumber: 13
        }, this)
      },
      void 0,
      false,
      {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
        lineNumber: 73,
        columnNumber: 11
      },
      this
    ) }, void 0, false, {
      fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
      lineNumber: 72,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV(TooltipContent, { side: "left", className: "max-w-xs p-3", children: [
      /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: () => setShowTooltip(false),
          className: "absolute top-1 right-1 p-0.5 rounded-full hover:bg-muted",
          "data-testid": "button-close-tooltip",
          children: /* @__PURE__ */ jsxDEV(X, { className: "h-3 w-3" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
            lineNumber: 89,
            columnNumber: 13
          }, this)
        },
        void 0,
        false,
        {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
          lineNumber: 84,
          columnNumber: 11
        },
        this
      ),
      /* @__PURE__ */ jsxDEV("p", { className: "text-sm pr-4", children: getInstallTip() }, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
        lineNumber: 91,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
      lineNumber: 83,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
    lineNumber: 71,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx",
    lineNumber: 70,
    columnNumber: 5
  }, this);
}
_s(PWAInstallTooltip, "KBS6N34W1Anb5Uo5PobSoVduDgc=", false, function() {
  return [usePWAInstall];
});
_c = PWAInstallTooltip;
var _c;
$RefreshReg$(_c, "PWAInstallTooltip");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("/Users/thibault/Développements /CJD80/cjd80/client/src/components/pwa-install-tooltip.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6IkFBNERZOzs7Ozs7Ozs7Ozs7Ozs7OztBQTVEWixTQUFTQSxVQUFVQyxpQkFBaUI7QUFDcEMsU0FBU0MsTUFBTUMsU0FBUztBQUN4QjtBQUFBLEVBQ0VDO0FBQUFBLEVBQ0FDO0FBQUFBLEVBQ0FDO0FBQUFBLEVBQ0FDO0FBQUFBLE9BQ0s7QUFDUCxTQUFTQyxjQUFjO0FBQ3ZCLFNBQVNDLHFCQUFxQjtBQUV2QixnQkFBU0Msb0JBQW9CO0FBQUFDLEtBQUE7QUFDbEMsUUFBTSxFQUFFQyxlQUFlQyxZQUFZQyxpQkFBaUJDLFlBQVksSUFBSU4sY0FBYztBQUNsRixRQUFNLENBQUNPLGFBQWFDLGNBQWMsSUFBSWpCLFNBQVMsS0FBSztBQUVwREMsWUFBVSxNQUFNO0FBRWQsUUFBSWMsZUFBZSxDQUFDRixZQUFZO0FBQzlCO0FBQUEsSUFDRjtBQUdBLFVBQU1LLGlCQUFpQkMsYUFBYUMsUUFBUSxrQkFBa0I7QUFDOUQsUUFBSUYsZ0JBQWdCO0FBQ2xCO0FBQUEsSUFDRjtBQUdBLFVBQU1HLFFBQVFDLFdBQVcsTUFBTTtBQUM3QkwscUJBQWUsSUFBSTtBQUNuQkUsbUJBQWFJLFFBQVEsb0JBQW9CLE1BQU07QUFBQSxJQUNqRCxHQUFHLEdBQUs7QUFFUixXQUFPLE1BQU1DLGFBQWFILEtBQUs7QUFBQSxFQUNqQyxHQUFHLENBQUNOLGFBQWFGLFVBQVUsQ0FBQztBQUU1QixNQUFJLENBQUNHLFlBQWEsUUFBTztBQUV6QixRQUFNUyxnQkFBZ0JBLE1BQU07QUFDMUIsWUFBUVgsaUJBQWU7QUFBQSxNQUNyQixLQUFLO0FBQ0gsZUFBTztBQUFBLE1BQ1QsS0FBSztBQUNILGVBQU87QUFBQSxNQUNUO0FBQ0UsZUFBTztBQUFBLElBQ1g7QUFBQSxFQUNGO0FBRUEsU0FDRSx1QkFBQyxtQkFDQyxpQ0FBQyxXQUFRLGFBQVcsTUFDbEI7QUFBQSwyQkFBQyxrQkFBZSxTQUFPLE1BQ3JCO0FBQUEsTUFBQztBQUFBO0FBQUEsUUFDQyxTQUFRO0FBQUEsUUFDUixNQUFLO0FBQUEsUUFDTCxXQUFVO0FBQUEsUUFDVixTQUFTLE1BQU1HLGVBQWUsS0FBSztBQUFBLFFBQ25DLGVBQVk7QUFBQSxRQUVaLGlDQUFDLFFBQUssV0FBVSxhQUFoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBQXlCO0FBQUE7QUFBQSxNQVAzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFRQSxLQVRGO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0FVQTtBQUFBLElBQ0EsdUJBQUMsa0JBQWUsTUFBSyxRQUFPLFdBQVUsZ0JBQ3BDO0FBQUE7QUFBQSxRQUFDO0FBQUE7QUFBQSxVQUNDLFNBQVMsTUFBTUEsZUFBZSxLQUFLO0FBQUEsVUFDbkMsV0FBVTtBQUFBLFVBQ1YsZUFBWTtBQUFBLFVBRVosaUNBQUMsS0FBRSxXQUFVLGFBQWI7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBc0I7QUFBQTtBQUFBLFFBTHhCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQU1BO0FBQUEsTUFDQSx1QkFBQyxPQUFFLFdBQVUsZ0JBQWdCUSx3QkFBYyxLQUEzQztBQUFBO0FBQUE7QUFBQTtBQUFBLGFBQTZDO0FBQUEsU0FSL0M7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQVNBO0FBQUEsT0FyQkY7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQXNCQSxLQXZCRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBd0JBO0FBRUo7QUFBQ2QsR0FqRWVELG1CQUFpQjtBQUFBLFVBQ3FDRCxhQUFhO0FBQUE7QUFBQWlCLEtBRG5FaEI7QUFBaUIsSUFBQWdCO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkluZm8iLCJYIiwiVG9vbHRpcCIsIlRvb2x0aXBDb250ZW50IiwiVG9vbHRpcFByb3ZpZGVyIiwiVG9vbHRpcFRyaWdnZXIiLCJCdXR0b24iLCJ1c2VQV0FJbnN0YWxsIiwiUFdBSW5zdGFsbFRvb2x0aXAiLCJfcyIsImlzSW5zdGFsbGFibGUiLCJjYW5JbnN0YWxsIiwib3BlcmF0aW5nU3lzdGVtIiwiaXNJbnN0YWxsZWQiLCJzaG93VG9vbHRpcCIsInNldFNob3dUb29sdGlwIiwiaGFzU2VlblRvb2x0aXAiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidGltZXIiLCJzZXRUaW1lb3V0Iiwic2V0SXRlbSIsImNsZWFyVGltZW91dCIsImdldEluc3RhbGxUaXAiLCJfYyIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJwd2EtaW5zdGFsbC10b29sdGlwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSW5mbywgWCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQge1xuICBUb29sdGlwLFxuICBUb29sdGlwQ29udGVudCxcbiAgVG9vbHRpcFByb3ZpZGVyLFxuICBUb29sdGlwVHJpZ2dlcixcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Rvb2x0aXAnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyB1c2VQV0FJbnN0YWxsIH0gZnJvbSAnQC9ob29rcy91c2UtcHdhLWluc3RhbGwnO1xuXG5leHBvcnQgZnVuY3Rpb24gUFdBSW5zdGFsbFRvb2x0aXAoKSB7XG4gIGNvbnN0IHsgaXNJbnN0YWxsYWJsZSwgY2FuSW5zdGFsbCwgb3BlcmF0aW5nU3lzdGVtLCBpc0luc3RhbGxlZCB9ID0gdXNlUFdBSW5zdGFsbCgpO1xuICBjb25zdCBbc2hvd1Rvb2x0aXAsIHNldFNob3dUb29sdGlwXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE5lIHBhcyBhZmZpY2hlciBzaSBkw6lqw6AgaW5zdGFsbMOpIG91IG5vbiBpbnN0YWxsYWJsZVxuICAgIGlmIChpc0luc3RhbGxlZCB8fCAhY2FuSW5zdGFsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFbDqXJpZmllciBzaSBkw6lqw6AgYWZmaWNow6lcbiAgICBjb25zdCBoYXNTZWVuVG9vbHRpcCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwd2EtdG9vbHRpcC1zZWVuJyk7XG4gICAgaWYgKGhhc1NlZW5Ub29sdGlwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWZmaWNoZXIgYXByw6hzIDYwIHNlY29uZGVzIGRlIG5hdmlnYXRpb25cbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2hvd1Rvb2x0aXAodHJ1ZSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHdhLXRvb2x0aXAtc2VlbicsICd0cnVlJyk7XG4gICAgfSwgNjAwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gIH0sIFtpc0luc3RhbGxlZCwgY2FuSW5zdGFsbF0pO1xuXG4gIGlmICghc2hvd1Rvb2x0aXApIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGdldEluc3RhbGxUaXAgPSAoKSA9PiB7XG4gICAgc3dpdGNoIChvcGVyYXRpbmdTeXN0ZW0pIHtcbiAgICAgIGNhc2UgJ2lvcyc6XG4gICAgICAgIHJldHVybiAnQXN0dWNlIDogQWpvdXRleiBjZXR0ZSBhcHAgw6Agdm90cmUgw6ljcmFuIGRcXCdhY2N1ZWlsIHBvdXIgdW4gYWNjw6hzIHJhcGlkZSAhIEFwcHV5ZXogc3VyIFBhcnRhZ2VyIHB1aXMgXCJTdXIgbFxcJ8OpY3JhbiBkXFwnYWNjdWVpbFwiJztcbiAgICAgIGNhc2UgJ2FuZHJvaWQnOlxuICAgICAgICByZXR1cm4gJ0FzdHVjZSA6IEluc3RhbGxleiBsXFwnYXBwIHBvdXIgcmVjZXZvaXIgZGVzIG5vdGlmaWNhdGlvbnMgZXQgeSBhY2PDqWRlciByYXBpZGVtZW50IGRlcHVpcyB2b3RyZSDDqWNyYW4gZFxcJ2FjY3VlaWwgISc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ0FzdHVjZSA6IEluc3RhbGxleiBsXFwnYXBwbGljYXRpb24gcG91ciB1biBhY2PDqHMgcmFwaWRlIGV0IGRlcyBub3RpZmljYXRpb25zIGluc3RhbnRhbsOpZXMgISc7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgIDxUb29sdGlwIGRlZmF1bHRPcGVuPlxuICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgc2l6ZT1cImljb25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTIwIHJpZ2h0LTQgei00MCByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS8xMCBob3ZlcjpiZy1wcmltYXJ5LzIwXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dUb29sdGlwKGZhbHNlKX1cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiYnV0dG9uLXRvb2x0aXAtaW5mb1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgIDxUb29sdGlwQ29udGVudCBzaWRlPVwibGVmdFwiIGNsYXNzTmFtZT1cIm1heC13LXhzIHAtM1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dUb29sdGlwKGZhbHNlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xIHJpZ2h0LTEgcC0wLjUgcm91bmRlZC1mdWxsIGhvdmVyOmJnLW11dGVkXCJcbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiYnV0dG9uLWNsb3NlLXRvb2x0aXBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gcHItNFwiPntnZXRJbnN0YWxsVGlwKCl9PC9wPlxuICAgICAgICA8L1Rvb2x0aXBDb250ZW50PlxuICAgICAgPC9Ub29sdGlwPlxuICAgIDwvVG9vbHRpcFByb3ZpZGVyPlxuICApO1xufSJdLCJmaWxlIjoiL1VzZXJzL3RoaWJhdWx0L0RlzIF2ZWxvcHBlbWVudHMgL0NKRDgwL2NqZDgwL2NsaWVudC9zcmMvY29tcG9uZW50cy9wd2EtaW5zdGFsbC10b29sdGlwLnRzeCJ9