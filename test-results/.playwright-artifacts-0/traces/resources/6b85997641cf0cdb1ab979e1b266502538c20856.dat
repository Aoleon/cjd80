import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/contexts/BrandingContext.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=8973d617"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("/Users/thibault/Développements /CJD80/cjd80/client/src/contexts/BrandingContext.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$();
import __vite__cjsImport3_react from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react.js?v=8973d617"; const createContext = __vite__cjsImport3_react["createContext"]; const useContext = __vite__cjsImport3_react["useContext"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useState = __vite__cjsImport3_react["useState"];
import { brandingCore } from "/src/config/branding-core.ts";
const BrandingContext = createContext(void 0);
function deepMerge(target, source) {
  const result = { ...target };
  for (const key in source) {
    const sourceValue = source[key];
    const targetValue = result[key];
    if (sourceValue && typeof sourceValue === "object" && !Array.isArray(sourceValue)) {
      if (targetValue && typeof targetValue === "object" && !Array.isArray(targetValue)) {
        result[key] = deepMerge(targetValue, sourceValue);
      } else {
        result[key] = sourceValue;
      }
    } else if (sourceValue !== void 0) {
      result[key] = sourceValue;
    }
  }
  return result;
}
export function BrandingProvider({ children }) {
  _s();
  const [branding, setBranding] = useState(brandingCore);
  const [isLoading, setIsLoading] = useState(true);
  const [isCustomized, setIsCustomized] = useState(false);
  const loadBranding = async () => {
    try {
      setIsLoading(true);
      const response = await fetch("/api/admin/branding");
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      const result = await response.json();
      if (result.success && result.data) {
        if (result.data.isDefault) {
          setBranding(brandingCore);
          setIsCustomized(false);
        } else {
          const customConfig = JSON.parse(result.data.config);
          setBranding(deepMerge(brandingCore, customConfig));
          setIsCustomized(true);
        }
      }
    } catch (error) {
      console.error("Failed to load branding config:", error);
      setBranding(brandingCore);
      setIsCustomized(false);
    } finally {
      setIsLoading(false);
    }
  };
  useEffect(() => {
    loadBranding();
  }, []);
  return /* @__PURE__ */ jsxDEV(BrandingContext.Provider, { value: {
    branding,
    isLoading,
    isCustomized,
    reloadBranding: loadBranding
  }, children }, void 0, false, {
    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/contexts/BrandingContext.tsx",
    lineNumber: 99,
    columnNumber: 5
  }, this);
}
_s(BrandingProvider, "kU7SCsz9iuyWlLibNCsLInwWa3g=");
_c = BrandingProvider;
export function useBranding() {
  _s2();
  const context = useContext(BrandingContext);
  if (!context) {
    throw new Error("useBranding must be used within BrandingProvider");
  }
  return context;
}
_s2(useBranding, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
var _c;
$RefreshReg$(_c, "BrandingProvider");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/thibault/Développements /CJD80/cjd80/client/src/contexts/BrandingContext.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("/Users/thibault/Développements /CJD80/cjd80/client/src/contexts/BrandingContext.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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Im5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJicmFuZGluZ0NvcmUiLCJCcmFuZGluZ0NvbnRleHQiLCJ1bmRlZmluZWQiLCJkZWVwTWVyZ2UiLCJ0YXJnZXQiLCJzb3VyY2UiLCJyZXN1bHQiLCJrZXkiLCJzb3VyY2VWYWx1ZSIsInRhcmdldFZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiQnJhbmRpbmdQcm92aWRlciIsImNoaWxkcmVuIiwiX3MiLCJicmFuZGluZyIsInNldEJyYW5kaW5nIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNDdXN0b21pemVkIiwic2V0SXNDdXN0b21pemVkIiwibG9hZEJyYW5kaW5nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJpc0RlZmF1bHQiLCJjdXN0b21Db25maWciLCJKU09OIiwicGFyc2UiLCJjb25maWciLCJlcnJvciIsImNvbnNvbGUiLCJyZWxvYWRCcmFuZGluZyIsIl9jIiwidXNlQnJhbmRpbmciLCJfczIiLCJjb250ZXh0IiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkJyYW5kaW5nQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYnJhbmRpbmdDb3JlIH0gZnJvbSAnQC9jb25maWcvYnJhbmRpbmctY29yZSc7XG5pbXBvcnQgdHlwZSB7IEJyYW5kaW5nQ29yZSB9IGZyb20gJ0AvY29uZmlnL2JyYW5kaW5nLWNvcmUnO1xuXG5pbnRlcmZhY2UgQnJhbmRpbmdDb250ZXh0VHlwZSB7XG4gIGJyYW5kaW5nOiBCcmFuZGluZ0NvcmU7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgaXNDdXN0b21pemVkOiBib29sZWFuO1xuICByZWxvYWRCcmFuZGluZzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgQnJhbmRpbmdDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxCcmFuZGluZ0NvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4vLyBEZWVwIG1lcmdlIHV0aWxpdHkgZnVuY3Rpb25cbmZ1bmN0aW9uIGRlZXBNZXJnZTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4odGFyZ2V0OiBULCBzb3VyY2U6IFBhcnRpYWw8VD4pOiBUIHtcbiAgY29uc3QgcmVzdWx0ID0geyAuLi50YXJnZXQgfTtcbiAgXG4gIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgIGNvbnN0IHNvdXJjZVZhbHVlID0gc291cmNlW2tleV07XG4gICAgY29uc3QgdGFyZ2V0VmFsdWUgPSByZXN1bHRba2V5XTtcbiAgICBcbiAgICBpZiAoc291cmNlVmFsdWUgJiYgdHlwZW9mIHNvdXJjZVZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShzb3VyY2VWYWx1ZSkpIHtcbiAgICAgIGlmICh0YXJnZXRWYWx1ZSAmJiB0eXBlb2YgdGFyZ2V0VmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHRhcmdldFZhbHVlKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUpIGFzIGFueTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc291cmNlVmFsdWUgYXMgYW55O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc291cmNlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2VWYWx1ZSBhcyBhbnk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQnJhbmRpbmdQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFticmFuZGluZywgc2V0QnJhbmRpbmddID0gdXNlU3RhdGU8QnJhbmRpbmdDb3JlPihicmFuZGluZ0NvcmUpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc0N1c3RvbWl6ZWQsIHNldElzQ3VzdG9taXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgbG9hZEJyYW5kaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL2JyYW5kaW5nJyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkge1xuICAgICAgICBpZiAocmVzdWx0LmRhdGEuaXNEZWZhdWx0KSB7XG4gICAgICAgICAgLy8gVXNpbmcgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICBzZXRCcmFuZGluZyhicmFuZGluZ0NvcmUpO1xuICAgICAgICAgIHNldElzQ3VzdG9taXplZChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVXNpbmcgY3VzdG9taXplZCB2YWx1ZXMgZnJvbSBEQlxuICAgICAgICAgIGNvbnN0IGN1c3RvbUNvbmZpZyA9IEpTT04ucGFyc2UocmVzdWx0LmRhdGEuY29uZmlnKTtcbiAgICAgICAgICAvLyBEZWVwIG1lcmdlIHdpdGggZGVmYXVsdHMgdG8gcHJlc2VydmUgbmVzdGVkIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgICAgc2V0QnJhbmRpbmcoZGVlcE1lcmdlKGJyYW5kaW5nQ29yZSwgY3VzdG9tQ29uZmlnKSk7XG4gICAgICAgICAgc2V0SXNDdXN0b21pemVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGJyYW5kaW5nIGNvbmZpZzonLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayB0byBkZWZhdWx0IHZhbHVlc1xuICAgICAgc2V0QnJhbmRpbmcoYnJhbmRpbmdDb3JlKTtcbiAgICAgIHNldElzQ3VzdG9taXplZChmYWxzZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZEJyYW5kaW5nKCk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxCcmFuZGluZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgXG4gICAgICBicmFuZGluZywgXG4gICAgICBpc0xvYWRpbmcsIFxuICAgICAgaXNDdXN0b21pemVkLFxuICAgICAgcmVsb2FkQnJhbmRpbmc6IGxvYWRCcmFuZGluZyBcbiAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0JyYW5kaW5nQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJyYW5kaW5nKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCcmFuZGluZ0NvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUJyYW5kaW5nIG11c3QgYmUgdXNlZCB3aXRoaW4gQnJhbmRpbmdQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIl0sImZpbGUiOiIvVXNlcnMvdGhpYmF1bHQvRGXMgXZlbG9wcGVtZW50cyAvQ0pEODAvY2pkODAvY2xpZW50L3NyYy9jb250ZXh0cy9CcmFuZGluZ0NvbnRleHQudHN4In0=