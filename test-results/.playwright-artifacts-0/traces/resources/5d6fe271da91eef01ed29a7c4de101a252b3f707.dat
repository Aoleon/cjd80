export async function shareContent(options) {
  try {
    if (isShareSupported()) {
      if (canShareContent(options)) {
        await navigator.share(options);
        return { success: true };
      }
    }
    const urlToCopy = options.url || window.location.href;
    if (navigator.clipboard && navigator.clipboard.writeText) {
      await navigator.clipboard.writeText(urlToCopy);
      return { success: true };
    }
    const textArea = document.createElement("textarea");
    textArea.value = urlToCopy;
    textArea.style.position = "fixed";
    textArea.style.left = "-999999px";
    textArea.style.top = "-999999px";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      document.execCommand("copy");
      textArea.remove();
      return { success: true };
    } catch (err) {
      textArea.remove();
      const errorMessage = err instanceof Error ? err.message : "Erreur lors de la copie";
      return { success: false, reason: "error", message: errorMessage };
    }
  } catch (error) {
    if (error instanceof Error && error.name === "AbortError") {
      return { success: false, reason: "cancelled" };
    }
    console.error("Error sharing content:", error);
    const errorMessage = error instanceof Error ? error.message : "Erreur inconnue";
    return { success: false, reason: "error", message: errorMessage };
  }
}
export function isShareSupported() {
  return "share" in navigator;
}
export function canShareContent(data) {
  if ("canShare" in navigator) {
    return navigator.canShare(data);
  }
  return isShareSupported();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlLXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgU2hhcmVPcHRpb25zIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVSZXN1bHQge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICByZWFzb24/OiAnY2FuY2VsbGVkJyB8ICdlcnJvcic7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogU2hhcmUgY29udGVudCB1c2luZyBXZWIgU2hhcmUgQVBJIHdpdGggY2xpcGJvYXJkIGZhbGxiYWNrXG4gKiBAcGFyYW0gb3B0aW9ucyBTaGFyZSBvcHRpb25zICh0aXRsZSwgdGV4dCwgdXJsKVxuICogQHJldHVybnMgU2hhcmVSZXN1bHQgd2l0aCBzdWNjZXNzIHN0YXR1cyBhbmQgb3B0aW9uYWwgcmVhc29uL21lc3NhZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNoYXJlQ29udGVudChvcHRpb25zOiBTaGFyZU9wdGlvbnMpOiBQcm9taXNlPFNoYXJlUmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgV2ViIFNoYXJlIEFQSSBpcyBhdmFpbGFibGVcbiAgICBpZiAoaXNTaGFyZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgc3BlY2lmaWMgY29udGVudCBjYW4gYmUgc2hhcmVkXG4gICAgICBpZiAoY2FuU2hhcmVDb250ZW50KG9wdGlvbnMpKSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5zaGFyZShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjazogY29weSBVUkwgdG8gY2xpcGJvYXJkXG4gICAgY29uc3QgdXJsVG9Db3B5ID0gb3B0aW9ucy51cmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgXG4gICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQpIHtcbiAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybFRvQ29weSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIGZvciBvbGRlciBicm93c2Vyc1xuICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0ZXh0QXJlYS52YWx1ZSA9IHVybFRvQ29weTtcbiAgICB0ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgdGV4dEFyZWEuc3R5bGUubGVmdCA9ICctOTk5OTk5cHgnO1xuICAgIHRleHRBcmVhLnN0eWxlLnRvcCA9ICctOTk5OTk5cHgnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xuICAgIHRleHRBcmVhLmZvY3VzKCk7XG4gICAgdGV4dEFyZWEuc2VsZWN0KCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICB0ZXh0QXJlYS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRleHRBcmVhLnJlbW92ZSgpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdFcnJldXIgbG9ycyBkZSBsYSBjb3BpZSc7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVhc29uOiAnZXJyb3InLCBtZXNzYWdlOiBlcnJvck1lc3NhZ2UgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gQWJvcnRFcnJvciBtZWFucyB1c2VyIGNhbmNlbGxlZCB0aGUgc2hhcmUgZGlhbG9nXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVhc29uOiAnY2FuY2VsbGVkJyB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBBbnkgb3RoZXIgZXJyb3JcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaGFyaW5nIGNvbnRlbnQ6JywgZXJyb3IpO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0VycmV1ciBpbmNvbm51ZSc7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHJlYXNvbjogJ2Vycm9yJywgbWVzc2FnZTogZXJyb3JNZXNzYWdlIH07XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBXZWIgU2hhcmUgQVBJIGlzIHN1cHBvcnRlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBuYXZpZ2F0b3Iuc2hhcmUgaXMgYXZhaWxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NoYXJlU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gJ3NoYXJlJyBpbiBuYXZpZ2F0b3I7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgc3BlY2lmaWMgY29udGVudCBjYW4gYmUgc2hhcmVkXG4gKiBAcGFyYW0gZGF0YSBTaGFyZSBkYXRhIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB0cnVlIGlmIGNvbnRlbnQgY2FuIGJlIHNoYXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuU2hhcmVDb250ZW50KGRhdGE6IFNoYXJlT3B0aW9ucyk6IGJvb2xlYW4ge1xuICBpZiAoJ2NhblNoYXJlJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLmNhblNoYXJlKGRhdGEpO1xuICB9XG4gIC8vIElmIGNhblNoYXJlIGlzIG5vdCBhdmFpbGFibGUsIGFzc3VtZSBpdCBjYW4gYmUgc2hhcmVkIGlmIHNoYXJlIGlzIHN1cHBvcnRlZFxuICByZXR1cm4gaXNTaGFyZVN1cHBvcnRlZCgpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFpQkEsc0JBQXNCLGFBQWEsU0FBNkM7QUFDOUUsTUFBSTtBQUVGLFFBQUksaUJBQWlCLEdBQUc7QUFFdEIsVUFBSSxnQkFBZ0IsT0FBTyxHQUFHO0FBQzVCLGNBQU0sVUFBVSxNQUFNLE9BQU87QUFDN0IsZUFBTyxFQUFFLFNBQVMsS0FBSztBQUFBLE1BQ3pCO0FBQUEsSUFDRjtBQUdBLFVBQU0sWUFBWSxRQUFRLE9BQU8sT0FBTyxTQUFTO0FBRWpELFFBQUksVUFBVSxhQUFhLFVBQVUsVUFBVSxXQUFXO0FBQ3hELFlBQU0sVUFBVSxVQUFVLFVBQVUsU0FBUztBQUM3QyxhQUFPLEVBQUUsU0FBUyxLQUFLO0FBQUEsSUFDekI7QUFHQSxVQUFNLFdBQVcsU0FBUyxjQUFjLFVBQVU7QUFDbEQsYUFBUyxRQUFRO0FBQ2pCLGFBQVMsTUFBTSxXQUFXO0FBQzFCLGFBQVMsTUFBTSxPQUFPO0FBQ3RCLGFBQVMsTUFBTSxNQUFNO0FBQ3JCLGFBQVMsS0FBSyxZQUFZLFFBQVE7QUFDbEMsYUFBUyxNQUFNO0FBQ2YsYUFBUyxPQUFPO0FBRWhCLFFBQUk7QUFDRixlQUFTLFlBQVksTUFBTTtBQUMzQixlQUFTLE9BQU87QUFDaEIsYUFBTyxFQUFFLFNBQVMsS0FBSztBQUFBLElBQ3pCLFNBQVMsS0FBSztBQUNaLGVBQVMsT0FBTztBQUNoQixZQUFNLGVBQWUsZUFBZSxRQUFRLElBQUksVUFBVTtBQUMxRCxhQUFPLEVBQUUsU0FBUyxPQUFPLFFBQVEsU0FBUyxTQUFTLGFBQWE7QUFBQSxJQUNsRTtBQUFBLEVBQ0YsU0FBUyxPQUFPO0FBRWQsUUFBSSxpQkFBaUIsU0FBUyxNQUFNLFNBQVMsY0FBYztBQUN6RCxhQUFPLEVBQUUsU0FBUyxPQUFPLFFBQVEsWUFBWTtBQUFBLElBQy9DO0FBR0EsWUFBUSxNQUFNLDBCQUEwQixLQUFLO0FBQzdDLFVBQU0sZUFBZSxpQkFBaUIsUUFBUSxNQUFNLFVBQVU7QUFDOUQsV0FBTyxFQUFFLFNBQVMsT0FBTyxRQUFRLFNBQVMsU0FBUyxhQUFhO0FBQUEsRUFDbEU7QUFDRjtBQU1PLGdCQUFTLG1CQUE0QjtBQUMxQyxTQUFPLFdBQVc7QUFDcEI7QUFPTyxnQkFBUyxnQkFBZ0IsTUFBNkI7QUFDM0QsTUFBSSxjQUFjLFdBQVc7QUFDM0IsV0FBTyxVQUFVLFNBQVMsSUFBSTtBQUFBLEVBQ2hDO0FBRUEsU0FBTyxpQkFBaUI7QUFDMUI7IiwibmFtZXMiOltdfQ==