import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/idea-detail-modal.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=8973d617"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react.js?v=8973d617"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"];
import { useMutation, useQueryClient } from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/@tanstack_react-query.js?v=27047fab";
import { Lightbulb, User, Calendar, TrendingUp, Users, Loader2, CalendarPlus } from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/lucide-react.js?v=9fe1beea";
import { Button } from "/src/components/ui/button.tsx";
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from "/src/components/ui/dialog.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { Separator } from "/src/components/ui/separator.tsx";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "/src/components/ui/select.tsx";
import { useToast } from "/src/hooks/use-toast.ts";
import { apiRequest, invalidateAndRefetch } from "/src/lib/queryClient.ts";
import { IDEA_STATUS } from "/@fs/Users/thibault/Développements /CJD80/cjd80/shared/schema.ts";
export default function IdeaDetailModal({ open, onOpenChange, idea }) {
  _s();
  const { toast } = useToast();
  const queryClient = useQueryClient();
  const [votes, setVotes] = useState([]);
  const [votesLoading, setVotesLoading] = useState(false);
  const updateIdeaStatusMutation = useMutation({
    mutationFn: async ({ id, status }) => {
      await apiRequest("PATCH", `/api/admin/ideas/${id}/status`, { status });
    },
    onSuccess: () => {
      invalidateAndRefetch(["/api/admin/ideas"]);
      invalidateAndRefetch(["/api/admin/stats"]);
      invalidateAndRefetch(["/api/ideas"]);
      toast({
        title: "Statut mis à jour",
        description: "Le statut de l'idée a été mis à jour"
      });
      onOpenChange(false);
    },
    onError: (error) => {
      toast({
        title: "Erreur",
        description: error.message,
        variant: "destructive"
      });
    }
  });
  const deleteIdeaMutation = useMutation({
    mutationFn: async (id) => {
      await apiRequest("DELETE", `/api/admin/ideas/${id}`);
    },
    onSuccess: () => {
      invalidateAndRefetch(["/api/admin/ideas"]);
      invalidateAndRefetch(["/api/admin/stats"]);
      invalidateAndRefetch(["/api/ideas"]);
      toast({
        title: "Idée supprimée",
        description: "L'idée a été définitivement supprimée"
      });
      onOpenChange(false);
    },
    onError: (error) => {
      toast({
        title: "Erreur de suppression",
        description: error.message,
        variant: "destructive"
      });
    }
  });
  const transformToEventMutation = useMutation({
    mutationFn: async (id) => {
      await apiRequest("POST", `/api/admin/ideas/${id}/transform-to-event`, {});
    },
    onSuccess: () => {
      invalidateAndRefetch(["/api/admin/ideas"]);
      invalidateAndRefetch(["/api/admin/events"]);
      invalidateAndRefetch(["/api/admin/stats"]);
      invalidateAndRefetch(["/api/ideas"]);
      invalidateAndRefetch(["/api/events"]);
      toast({
        title: "Idée transformée",
        description: "L'idée a été transformée en événement avec succès"
      });
      onOpenChange(false);
    },
    onError: (error) => {
      toast({
        title: "Erreur de transformation",
        description: error.message,
        variant: "destructive"
      });
    }
  });
  useEffect(() => {
    if (open && idea) {
      setVotesLoading(true);
      fetch(`/api/admin/ideas/${idea.id}/votes`).then((res) => res.json()).then((data) => {
        setVotes(data);
        setVotesLoading(false);
      }).catch((err) => {
        console.error("Erreur chargement votes:", err);
        setVotesLoading(false);
      });
    }
  }, [open, idea]);
  if (!idea) return null;
  const getIdeaStatusInfo = (status) => {
    switch (status) {
      case IDEA_STATUS.PENDING:
        return { label: "En attente", class: "bg-warning-light text-warning-dark" };
      case IDEA_STATUS.APPROVED:
        return { label: "Idée soumise au vote", class: "bg-success-light text-success-dark" };
      case IDEA_STATUS.REJECTED:
        return { label: "Rejetée", class: "bg-error-light text-error-dark" };
      case IDEA_STATUS.UNDER_REVIEW:
        return { label: "En cours d'étude", class: "bg-info-light text-info-dark" };
      case IDEA_STATUS.POSTPONED:
        return { label: "Reportée", class: "bg-muted text-muted-foreground" };
      case IDEA_STATUS.COMPLETED:
        return { label: "Réalisée", class: "bg-success-light text-success-dark" };
      default:
        return { label: "Inconnu", class: "bg-muted text-muted-foreground" };
    }
  };
  const handleStatusChange = (status) => {
    updateIdeaStatusMutation.mutate({ id: idea.id, status });
  };
  const handleDelete = () => {
    if (confirm("Êtes-vous sûr de vouloir supprimer définitivement cette idée ?")) {
      deleteIdeaMutation.mutate(idea.id);
    }
  };
  const handleTransformToEvent = () => {
    if (confirm("Êtes-vous sûr de vouloir transformer cette idée en événement ? Cette action créera un nouvel événement basé sur cette idée.")) {
      transformToEventMutation.mutate(idea.id);
    }
  };
  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString("fr-FR", {
      day: "2-digit",
      month: "long",
      year: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  return /* @__PURE__ */ jsxDEV(Dialog, { open, onOpenChange, children: /* @__PURE__ */ jsxDEV(DialogContent, { className: "max-w-2xl max-h-[85vh] overflow-y-auto", children: [
    /* @__PURE__ */ jsxDEV(DialogHeader, { children: [
      /* @__PURE__ */ jsxDEV(DialogTitle, { className: "flex items-center gap-2 text-xl", children: [
        /* @__PURE__ */ jsxDEV(Lightbulb, { className: "w-5 h-5 text-cjd-green" }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 191,
          columnNumber: 13
        }, this),
        "Détails de l'idée"
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 190,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(DialogDescription, { children: "Consultez et gérez les détails de cette idée proposée par les membres CJD" }, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 194,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
      lineNumber: 189,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between mb-6", children: [
        /* @__PURE__ */ jsxDEV(
          Badge,
          {
            className: getIdeaStatusInfo(idea.status).class,
            children: getIdeaStatusInfo(idea.status).label
          },
          void 0,
          false,
          {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 202,
            columnNumber: 13
          },
          this
        ),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2 text-sm text-gray-500", children: [
          /* @__PURE__ */ jsxDEV(TrendingUp, { className: "w-4 h-4" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 208,
            columnNumber: 15
          }, this),
          idea.voteCount,
          " vote",
          idea.voteCount !== 1 ? "s" : ""
        ] }, void 0, true, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 207,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 201,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-bold text-gray-900 mb-2", children: idea.title }, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 215,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 214,
        columnNumber: 11
      }, this),
      idea.description && /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h4", { className: "font-medium text-gray-700 mb-2", children: "Description" }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 221,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-lg", children: idea.description }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 222,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 220,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(Separator, {}, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 228,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV(User, { className: "w-4 h-4 text-gray-400" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 233,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "text-gray-600", children: "Proposée par" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 234,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: idea.proposedBy }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 235,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 232,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV(Calendar, { className: "w-4 h-4 text-gray-400" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 238,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "text-gray-600", children: "Le" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 239,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: formatDate(idea.createdAt.toString()) }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 240,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 237,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 231,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(Separator, {}, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 244,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h4", { className: "font-medium text-gray-700 mb-3 flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV(Users, { className: "w-4 h-4" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 249,
            columnNumber: 15
          }, this),
          "Votants (",
          idea.voteCount,
          ")"
        ] }, void 0, true, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 248,
          columnNumber: 13
        }, this),
        votesLoading ? /* @__PURE__ */ jsxDEV("div", { className: "flex justify-center py-4", children: /* @__PURE__ */ jsxDEV(Loader2, { className: "h-6 w-6 animate-spin text-cjd-green" }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 254,
          columnNumber: 17
        }, this) }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 253,
          columnNumber: 13
        }, this) : votes.length > 0 ? /* @__PURE__ */ jsxDEV("div", { className: "bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto", children: /* @__PURE__ */ jsxDEV("div", { className: "space-y-2", children: votes.map(
          (vote, index) => /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxDEV("span", { className: "text-gray-500", children: [
                index + 1,
                "."
              ] }, void 0, true, {
                fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                lineNumber: 262,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: vote.voterName }, void 0, false, {
                fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                lineNumber: 263,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "text-gray-500", children: [
                "(",
                vote.voterEmail,
                ")"
              ] }, void 0, true, {
                fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                lineNumber: 264,
                columnNumber: 25
              }, this)
            ] }, void 0, true, {
              fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
              lineNumber: 261,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("span", { className: "text-xs text-gray-400", children: new Date(vote.createdAt).toLocaleDateString("fr-FR") }, void 0, false, {
              fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
              lineNumber: 266,
              columnNumber: 23
            }, this)
          ] }, vote.id, true, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 260,
            columnNumber: 17
          }, this)
        ) }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 258,
          columnNumber: 17
        }, this) }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 257,
          columnNumber: 13
        }, this) : /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500 text-sm", children: "Aucun vote pour le moment" }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 274,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 247,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(Separator, {}, void 0, false, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 278,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("h4", { className: "font-medium text-gray-700 mb-3", children: "Changer le statut" }, void 0, false, {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 283,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            Select,
            {
              value: idea.status,
              onValueChange: handleStatusChange,
              disabled: updateIdeaStatusMutation.isPending,
              children: [
                /* @__PURE__ */ jsxDEV(SelectTrigger, { className: "w-full", children: /* @__PURE__ */ jsxDEV(SelectValue, { children: /* @__PURE__ */ jsxDEV("div", { className: `inline-block px-3 py-1 text-sm rounded-full ${getIdeaStatusInfo(idea.status).class}`, children: getIdeaStatusInfo(idea.status).label }, void 0, false, {
                  fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                  lineNumber: 291,
                  columnNumber: 21
                }, this) }, void 0, false, {
                  fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                  lineNumber: 290,
                  columnNumber: 19
                }, this) }, void 0, false, {
                  fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                  lineNumber: 289,
                  columnNumber: 17
                }, this),
                /* @__PURE__ */ jsxDEV(SelectContent, { children: [
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.PENDING, children: "En attente" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 297,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.APPROVED, children: "Idée soumise au vote" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 298,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.REJECTED, children: "Rejetée" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 299,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.UNDER_REVIEW, children: "En cours d'étude" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 300,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.POSTPONED, children: "Reportée" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 301,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: IDEA_STATUS.COMPLETED, children: "Réalisée" }, void 0, false, {
                    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                    lineNumber: 302,
                    columnNumber: 19
                  }, this)
                ] }, void 0, true, {
                  fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                  lineNumber: 296,
                  columnNumber: 17
                }, this)
              ]
            },
            void 0,
            true,
            {
              fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
              lineNumber: 284,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 282,
          columnNumber: 13
        }, this),
        (idea.status === IDEA_STATUS.APPROVED || idea.status === IDEA_STATUS.COMPLETED) && /* @__PURE__ */ jsxDEV("div", { className: "pt-3 border-t border-gray-200", children: /* @__PURE__ */ jsxDEV(
          Button,
          {
            onClick: handleTransformToEvent,
            disabled: transformToEventMutation.isPending,
            className: "w-full bg-info hover:bg-info-dark text-white",
            "data-testid": "button-transform-to-event",
            children: [
              /* @__PURE__ */ jsxDEV(CalendarPlus, { className: "w-4 h-4 mr-2" }, void 0, false, {
                fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
                lineNumber: 316,
                columnNumber: 19
              }, this),
              transformToEventMutation.isPending ? "Transformation..." : "Transformer en événement"
            ]
          },
          void 0,
          true,
          {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 310,
            columnNumber: 17
          },
          this
        ) }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 309,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "pt-3 border-t border-gray-200", children: /* @__PURE__ */ jsxDEV(
          Button,
          {
            onClick: handleDelete,
            variant: "destructive",
            disabled: deleteIdeaMutation.isPending,
            className: "w-full",
            "data-testid": "button-delete-idea",
            children: "Supprimer définitivement"
          },
          void 0,
          false,
          {
            fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
            lineNumber: 323,
            columnNumber: 15
          },
          this
        ) }, void 0, false, {
          fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
          lineNumber: 322,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
        lineNumber: 281,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
      lineNumber: 199,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
    lineNumber: 188,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx",
    lineNumber: 187,
    columnNumber: 5
  }, this);
}
_s(IdeaDetailModal, "PeK+b8n04jjLgp6zghUDEwyRDOE=", false, function() {
  return [useToast, useQueryClient, useMutation, useMutation, useMutation];
});
_c = IdeaDetailModal;
var _c;
$RefreshReg$(_c, "IdeaDetailModal");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("/Users/thibault/Développements /CJD80/cjd80/client/src/components/idea-detail-modal.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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SixpQkFBZTtBQUFBLFVBQ25CSixVQUNFckIsZ0JBSWFELGFBdUJOQSxhQXVCTUEsV0FBVztBQUFBO0FBQUE0RixLQXBEdEJsRTtBQUFlLElBQUFrRTtBQUFBQyxhQUFBRCxJQUFBIiwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNdXRhdGlvbiIsInVzZVF1ZXJ5Q2xpZW50IiwiTGlnaHRidWxiIiwiVXNlciIsIkNhbGVuZGFyIiwiVHJlbmRpbmdVcCIsIlVzZXJzIiwiTG9hZGVyMiIsIkNhbGVuZGFyUGx1cyIsIkJ1dHRvbiIsIkRpYWxvZyIsIkRpYWxvZ0NvbnRlbnQiLCJEaWFsb2dIZWFkZXIiLCJEaWFsb2dUaXRsZSIsIkRpYWxvZ0Rlc2NyaXB0aW9uIiwiQmFkZ2UiLCJTZXBhcmF0b3IiLCJTZWxlY3QiLCJTZWxlY3RDb250ZW50IiwiU2VsZWN0SXRlbSIsIlNlbGVjdFRyaWdnZXIiLCJTZWxlY3RWYWx1ZSIsInVzZVRvYXN0IiwiYXBpUmVxdWVzdCIsImludmFsaWRhdGVBbmRSZWZldGNoIiwiSURFQV9TVEFUVVMiLCJJZGVhRGV0YWlsTW9kYWwiLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwiaWRlYSIsIl9zIiwidG9hc3QiLCJxdWVyeUNsaWVudCIsInZvdGVzIiwic2V0Vm90ZXMiLCJ2b3Rlc0xvYWRpbmciLCJzZXRWb3Rlc0xvYWRpbmciLCJ1cGRhdGVJZGVhU3RhdHVzTXV0YXRpb24iLCJtdXRhdGlvbkZuIiwiaWQiLCJzdGF0dXMiLCJvblN1Y2Nlc3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwib25FcnJvciIsImVycm9yIiwibWVzc2FnZSIsInZhcmlhbnQiLCJkZWxldGVJZGVhTXV0YXRpb24iLCJ0cmFuc2Zvcm1Ub0V2ZW50TXV0YXRpb24iLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZGF0YSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImdldElkZWFTdGF0dXNJbmZvIiwiUEVORElORyIsImxhYmVsIiwiY2xhc3MiLCJBUFBST1ZFRCIsIlJFSkVDVEVEIiwiVU5ERVJfUkVWSUVXIiwiUE9TVFBPTkVEIiwiQ09NUExFVEVEIiwiaGFuZGxlU3RhdHVzQ2hhbmdlIiwibXV0YXRlIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybSIsImhhbmRsZVRyYW5zZm9ybVRvRXZlbnQiLCJmb3JtYXREYXRlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkYXkiLCJtb250aCIsInllYXIiLCJob3VyIiwibWludXRlIiwidm90ZUNvdW50IiwicHJvcG9zZWRCeSIsImNyZWF0ZWRBdCIsInRvU3RyaW5nIiwibGVuZ3RoIiwibWFwIiwidm90ZSIsImluZGV4Iiwidm90ZXJOYW1lIiwidm90ZXJFbWFpbCIsImlzUGVuZGluZyIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbImlkZWEtZGV0YWlsLW1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnlDbGllbnQgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCI7XG5pbXBvcnQgeyBMaWdodGJ1bGIsIFVzZXIsIENhbGVuZGFyLCBUcmVuZGluZ1VwLCBVc2VycywgTG9hZGVyMiwgQ2FsZW5kYXJQbHVzIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ29udGVudCwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSwgRGlhbG9nRGVzY3JpcHRpb24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2RpYWxvZ1wiO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2JhZGdlXCI7XG5pbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlcGFyYXRvclwiO1xuaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RDb250ZW50LCBTZWxlY3RJdGVtLCBTZWxlY3RUcmlnZ2VyLCBTZWxlY3RWYWx1ZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2hvb2tzL3VzZS10b2FzdFwiO1xuaW1wb3J0IHsgYXBpUmVxdWVzdCwgaW52YWxpZGF0ZUFuZFJlZmV0Y2ggfSBmcm9tIFwiQC9saWIvcXVlcnlDbGllbnRcIjtcbmltcG9ydCB0eXBlIHsgSWRlYSB9IGZyb20gXCJAc2hhcmVkL3NjaGVtYVwiO1xuaW1wb3J0IHsgSURFQV9TVEFUVVMgfSBmcm9tIFwiQHNoYXJlZC9zY2hlbWFcIjtcblxuaW50ZXJmYWNlIElkZWFXaXRoVm90ZXMgZXh0ZW5kcyBPbWl0PElkZWEsIFwidm90ZUNvdW50XCI+IHtcbiAgdm90ZUNvdW50OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBJZGVhRGV0YWlsTW9kYWxQcm9wcyB7XG4gIG9wZW46IGJvb2xlYW47XG4gIG9uT3BlbkNoYW5nZTogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGlkZWE6IElkZWFXaXRoVm90ZXMgfCBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJZGVhRGV0YWlsTW9kYWwoeyBvcGVuLCBvbk9wZW5DaGFuZ2UsIGlkZWEgfTogSWRlYURldGFpbE1vZGFsUHJvcHMpIHtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xuICBjb25zdCBbdm90ZXMsIHNldFZvdGVzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFt2b3Rlc0xvYWRpbmcsIHNldFZvdGVzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgdXBkYXRlSWRlYVN0YXR1c011dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IGFzeW5jICh7IGlkLCBzdGF0dXMgfTogeyBpZDogc3RyaW5nOyBzdGF0dXM6IHN0cmluZyB9KSA9PiB7XG4gICAgICBhd2FpdCBhcGlSZXF1ZXN0KFwiUEFUQ0hcIiwgYC9hcGkvYWRtaW4vaWRlYXMvJHtpZH0vc3RhdHVzYCwgeyBzdGF0dXMgfSk7XG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIGludmFsaWRhdGVBbmRSZWZldGNoKFtcIi9hcGkvYWRtaW4vaWRlYXNcIl0pO1xuICAgICAgaW52YWxpZGF0ZUFuZFJlZmV0Y2goW1wiL2FwaS9hZG1pbi9zdGF0c1wiXSk7XG4gICAgICBpbnZhbGlkYXRlQW5kUmVmZXRjaChbXCIvYXBpL2lkZWFzXCJdKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiU3RhdHV0IG1pcyDDoCBqb3VyXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkxlIHN0YXR1dCBkZSBsJ2lkw6llIGEgw6l0w6kgbWlzIMOgIGpvdXJcIixcbiAgICAgIH0pO1xuICAgICAgb25PcGVuQ2hhbmdlKGZhbHNlKTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBkZWxldGVJZGVhTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgIGF3YWl0IGFwaVJlcXVlc3QoXCJERUxFVEVcIiwgYC9hcGkvYWRtaW4vaWRlYXMvJHtpZH1gKTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgaW52YWxpZGF0ZUFuZFJlZmV0Y2goW1wiL2FwaS9hZG1pbi9pZGVhc1wiXSk7XG4gICAgICBpbnZhbGlkYXRlQW5kUmVmZXRjaChbXCIvYXBpL2FkbWluL3N0YXRzXCJdKTtcbiAgICAgIGludmFsaWRhdGVBbmRSZWZldGNoKFtcIi9hcGkvaWRlYXNcIl0pO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJJZMOpZSBzdXBwcmltw6llXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkwnaWTDqWUgYSDDqXTDqSBkw6lmaW5pdGl2ZW1lbnQgc3VwcHJpbcOpZVwiLFxuICAgICAgfSk7XG4gICAgICBvbk9wZW5DaGFuZ2UoZmFsc2UpO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJldXIgZGUgc3VwcHJlc3Npb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYW5zZm9ybVRvRXZlbnRNdXRhdGlvbiA9IHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgYXdhaXQgYXBpUmVxdWVzdChcIlBPU1RcIiwgYC9hcGkvYWRtaW4vaWRlYXMvJHtpZH0vdHJhbnNmb3JtLXRvLWV2ZW50YCwge30pO1xuICAgIH0sXG4gICAgb25TdWNjZXNzOiAoKSA9PiB7XG4gICAgICBpbnZhbGlkYXRlQW5kUmVmZXRjaChbXCIvYXBpL2FkbWluL2lkZWFzXCJdKTtcbiAgICAgIGludmFsaWRhdGVBbmRSZWZldGNoKFtcIi9hcGkvYWRtaW4vZXZlbnRzXCJdKTtcbiAgICAgIGludmFsaWRhdGVBbmRSZWZldGNoKFtcIi9hcGkvYWRtaW4vc3RhdHNcIl0pO1xuICAgICAgaW52YWxpZGF0ZUFuZFJlZmV0Y2goW1wiL2FwaS9pZGVhc1wiXSk7XG4gICAgICBpbnZhbGlkYXRlQW5kUmVmZXRjaChbXCIvYXBpL2V2ZW50c1wiXSk7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIklkw6llIHRyYW5zZm9ybcOpZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJMJ2lkw6llIGEgw6l0w6kgdHJhbnNmb3Jtw6llIGVuIMOpdsOpbmVtZW50IGF2ZWMgc3VjY8Ooc1wiLFxuICAgICAgfSk7XG4gICAgICBvbk9wZW5DaGFuZ2UoZmFsc2UpO1xuICAgIH0sXG4gICAgb25FcnJvcjogKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJldXIgZGUgdHJhbnNmb3JtYXRpb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIENoYXJnZXIgbGVzIHZvdGVzIHF1YW5kIGxlIG1vZGFsIHMnb3V2cmUgLSBkb2l0IMOqdHJlIEFWQU5UIGxlIHJldHVybiBudWxsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9wZW4gJiYgaWRlYSkge1xuICAgICAgc2V0Vm90ZXNMb2FkaW5nKHRydWUpO1xuICAgICAgZmV0Y2goYC9hcGkvYWRtaW4vaWRlYXMvJHtpZGVhLmlkfS92b3Rlc2ApXG4gICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICBzZXRWb3RlcyhkYXRhKTtcbiAgICAgICAgICBzZXRWb3Rlc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgY2hhcmdlbWVudCB2b3RlczonLCBlcnIpO1xuICAgICAgICAgIHNldFZvdGVzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSwgW29wZW4sIGlkZWFdKTtcblxuICBpZiAoIWlkZWEpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGdldElkZWFTdGF0dXNJbmZvID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgSURFQV9TVEFUVVMuUEVORElORzpcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6IFwiRW4gYXR0ZW50ZVwiLCBjbGFzczogXCJiZy13YXJuaW5nLWxpZ2h0IHRleHQtd2FybmluZy1kYXJrXCIgfTtcbiAgICAgIGNhc2UgSURFQV9TVEFUVVMuQVBQUk9WRUQ6XG4gICAgICAgIHJldHVybiB7IGxhYmVsOiBcIklkw6llIHNvdW1pc2UgYXUgdm90ZVwiLCBjbGFzczogXCJiZy1zdWNjZXNzLWxpZ2h0IHRleHQtc3VjY2Vzcy1kYXJrXCIgfTtcbiAgICAgIGNhc2UgSURFQV9TVEFUVVMuUkVKRUNURUQ6XG4gICAgICAgIHJldHVybiB7IGxhYmVsOiBcIlJlamV0w6llXCIsIGNsYXNzOiBcImJnLWVycm9yLWxpZ2h0IHRleHQtZXJyb3ItZGFya1wiIH07XG4gICAgICBjYXNlIElERUFfU1RBVFVTLlVOREVSX1JFVklFVzpcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6IFwiRW4gY291cnMgZCfDqXR1ZGVcIiwgY2xhc3M6IFwiYmctaW5mby1saWdodCB0ZXh0LWluZm8tZGFya1wiIH07XG4gICAgICBjYXNlIElERUFfU1RBVFVTLlBPU1RQT05FRDpcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6IFwiUmVwb3J0w6llXCIsIGNsYXNzOiBcImJnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIH07XG4gICAgICBjYXNlIElERUFfU1RBVFVTLkNPTVBMRVRFRDpcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6IFwiUsOpYWxpc8OpZVwiLCBjbGFzczogXCJiZy1zdWNjZXNzLWxpZ2h0IHRleHQtc3VjY2Vzcy1kYXJrXCIgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7IGxhYmVsOiBcIkluY29ubnVcIiwgY2xhc3M6IFwiYmctbXV0ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgfTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RhdHVzQ2hhbmdlID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgdXBkYXRlSWRlYVN0YXR1c011dGF0aW9uLm11dGF0ZSh7IGlkOiBpZGVhLmlkLCBzdGF0dXMgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xuICAgIGlmIChjb25maXJtKFwiw4p0ZXMtdm91cyBzw7tyIGRlIHZvdWxvaXIgc3VwcHJpbWVyIGTDqWZpbml0aXZlbWVudCBjZXR0ZSBpZMOpZSA/XCIpKSB7XG4gICAgICBkZWxldGVJZGVhTXV0YXRpb24ubXV0YXRlKGlkZWEuaWQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUcmFuc2Zvcm1Ub0V2ZW50ID0gKCkgPT4ge1xuICAgIGlmIChjb25maXJtKFwiw4p0ZXMtdm91cyBzw7tyIGRlIHZvdWxvaXIgdHJhbnNmb3JtZXIgY2V0dGUgaWTDqWUgZW4gw6l2w6luZW1lbnQgPyBDZXR0ZSBhY3Rpb24gY3LDqWVyYSB1biBub3V2ZWwgw6l2w6luZW1lbnQgYmFzw6kgc3VyIGNldHRlIGlkw6llLlwiKSkge1xuICAgICAgdHJhbnNmb3JtVG9FdmVudE11dGF0aW9uLm11dGF0ZShpZGVhLmlkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZykudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZnItRlJcIiwge1xuICAgICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICAgIG1vbnRoOiBcImxvbmdcIixcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgIH0pO1xuICB9O1xuXG5cblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2cgb3Blbj17b3Blbn0gb25PcGVuQ2hhbmdlPXtvbk9wZW5DaGFuZ2V9PlxuICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwibWF4LXctMnhsIG1heC1oLVs4NXZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14bFwiPlxuICAgICAgICAgICAgPExpZ2h0YnVsYiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtY2pkLWdyZWVuXCIgLz5cbiAgICAgICAgICAgIETDqXRhaWxzIGRlIGwnaWTDqWVcbiAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgIENvbnN1bHRleiBldCBnw6lyZXogbGVzIGTDqXRhaWxzIGRlIGNldHRlIGlkw6llIHByb3Bvc8OpZSBwYXIgbGVzIG1lbWJyZXMgQ0pEXG4gICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICB7LyogU3RhdHVzIEJhZGdlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTZcIj5cbiAgICAgICAgICAgIDxCYWRnZSBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtnZXRJZGVhU3RhdHVzSW5mbyhpZGVhLnN0YXR1cykuY2xhc3N9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXRJZGVhU3RhdHVzSW5mbyhpZGVhLnN0YXR1cykubGFiZWx9XG4gICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgPFRyZW5kaW5nVXAgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIHtpZGVhLnZvdGVDb3VudH0gdm90ZXtpZGVhLnZvdGVDb3VudCAhPT0gMSA/ICdzJyA6ICcnfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogVGl0bGUgKi99XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj57aWRlYS50aXRsZX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgIHtpZGVhLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5EZXNjcmlwdGlvbjwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbGVhZGluZy1yZWxheGVkIGJnLWdyYXktNTAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICB7aWRlYS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxTZXBhcmF0b3IgLz5cblxuICAgICAgICAgIHsvKiBNZXRhZGF0YSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgc206Z3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+UHJvcG9zw6llIHBhcjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57aWRlYS5wcm9wb3NlZEJ5fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxlPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntmb3JtYXREYXRlKGlkZWEuY3JlYXRlZEF0LnRvU3RyaW5nKCkpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPFNlcGFyYXRvciAvPlxuXG4gICAgICAgICAgey8qIFZvdGVzIExpc3QgKi99XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICBWb3RhbnRzICh7aWRlYS52b3RlQ291bnR9KVxuICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgIHt2b3Rlc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBweS00XCI+XG4gICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC02IHctNiBhbmltYXRlLXNwaW4gdGV4dC1jamQtZ3JlZW5cIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiB2b3Rlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcm91bmRlZC1sZyBwLTQgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIHt2b3Rlcy5tYXAoKHZvdGU6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17dm90ZS5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+e2luZGV4ICsgMX0uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57dm90ZS52b3Rlck5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPih7dm90ZS52b3RlckVtYWlsfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUodm90ZS5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXNtXCI+QXVjdW4gdm90ZSBwb3VyIGxlIG1vbWVudDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8U2VwYXJhdG9yIC8+XG5cbiAgICAgICAgICB7LyogQWN0aW9ucyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItM1wiPkNoYW5nZXIgbGUgc3RhdHV0PC9oND5cbiAgICAgICAgICAgICAgPFNlbGVjdCBcbiAgICAgICAgICAgICAgICB2YWx1ZT17aWRlYS5zdGF0dXN9IFxuICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e2hhbmRsZVN0YXR1c0NoYW5nZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dXBkYXRlSWRlYVN0YXR1c011dGF0aW9uLmlzUGVuZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBweC0zIHB5LTEgdGV4dC1zbSByb3VuZGVkLWZ1bGwgJHtnZXRJZGVhU3RhdHVzSW5mbyhpZGVhLnN0YXR1cykuY2xhc3N9YH0+XG4gICAgICAgICAgICAgICAgICAgICAge2dldElkZWFTdGF0dXNJbmZvKGlkZWEuc3RhdHVzKS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPXtJREVBX1NUQVRVUy5QRU5ESU5HfT5FbiBhdHRlbnRlPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9e0lERUFfU1RBVFVTLkFQUFJPVkVEfT5JZMOpZSBzb3VtaXNlIGF1IHZvdGU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT17SURFQV9TVEFUVVMuUkVKRUNURUR9PlJlamV0w6llPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9e0lERUFfU1RBVFVTLlVOREVSX1JFVklFV30+RW4gY291cnMgZCfDqXR1ZGU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT17SURFQV9TVEFUVVMuUE9TVFBPTkVEfT5SZXBvcnTDqWU8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT17SURFQV9TVEFUVVMuQ09NUExFVEVEfT5Sw6lhbGlzw6llPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFRyYW5zZm9ybSB0byBFdmVudCBBY3Rpb24gKi99XG4gICAgICAgICAgICB7KGlkZWEuc3RhdHVzID09PSBJREVBX1NUQVRVUy5BUFBST1ZFRCB8fCBpZGVhLnN0YXR1cyA9PT0gSURFQV9TVEFUVVMuQ09NUExFVEVEKSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUcmFuc2Zvcm1Ub0V2ZW50fVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RyYW5zZm9ybVRvRXZlbnRNdXRhdGlvbi5pc1BlbmRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctaW5mbyBob3ZlcjpiZy1pbmZvLWRhcmsgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImJ1dHRvbi10cmFuc2Zvcm0tdG8tZXZlbnRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxDYWxlbmRhclBsdXMgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgIHt0cmFuc2Zvcm1Ub0V2ZW50TXV0YXRpb24uaXNQZW5kaW5nID8gXCJUcmFuc2Zvcm1hdGlvbi4uLlwiIDogXCJUcmFuc2Zvcm1lciBlbiDDqXbDqW5lbWVudFwifVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX1cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkZWxldGVJZGVhTXV0YXRpb24uaXNQZW5kaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJidXR0b24tZGVsZXRlLWlkZWFcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU3VwcHJpbWVyIGTDqWZpbml0aXZlbWVudFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKTtcbn0iXSwiZmlsZSI6Ii9Vc2Vycy90aGliYXVsdC9EZcyBdmVsb3BwZW1lbnRzIC9DSkQ4MC9jamQ4MC9jbGllbnQvc3JjL2NvbXBvbmVudHMvaWRlYS1kZXRhaWwtbW9kYWwudHN4In0=