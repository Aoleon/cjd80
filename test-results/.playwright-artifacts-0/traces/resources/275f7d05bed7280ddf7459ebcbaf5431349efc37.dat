import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/hooks/use-auth.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=8973d617"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("/Users/thibault/Développements /CJD80/cjd80/client/src/hooks/use-auth.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$();
import __vite__cjsImport3_react from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/react.js?v=8973d617"; const createContext = __vite__cjsImport3_react["createContext"]; const useContext = __vite__cjsImport3_react["useContext"];
import {
  useQuery,
  useMutation
} from "/@fs/Users/thibault/Développements /CJD80/cjd80/node_modules/.vite/deps/@tanstack_react-query.js?v=27047fab";
import { getQueryFn, apiRequest, queryClient } from "/src/lib/queryClient.ts";
import { useToast } from "/src/hooks/use-toast.ts";
export const AuthContext = createContext(null);
export function AuthProvider({ children }) {
  _s();
  const { toast } = useToast();
  const {
    data: user,
    error,
    isLoading
  } = useQuery({
    queryKey: ["/api/user"],
    queryFn: getQueryFn({ on401: "returnNull" })
  });
  const loginMutation = useMutation({
    mutationFn: async (credentials) => {
      const res = await apiRequest("POST", "/api/login", credentials);
      if (!res.ok) {
        throw new Error("Identifiants incorrects");
      }
      const result = await res.json();
      return result;
    },
    onSuccess: (user2) => {
      queryClient.setQueryData(["/api/user"], user2);
      queryClient.invalidateQueries({ queryKey: ["/api/user"] });
      toast({
        title: "Connexion réussie",
        description: "Vous êtes maintenant connecté à l'administration"
      });
    },
    onError: (error2) => {
      toast({
        title: "Erreur de connexion",
        description: error2.message || "Identifiants incorrects",
        variant: "destructive"
      });
    }
  });
  const registerMutation = useMutation({
    mutationFn: async (credentials) => {
      const res = await apiRequest("POST", "/api/register", credentials);
      return await res.json();
    },
    onSuccess: (user2) => {
      queryClient.setQueryData(["/api/user"], user2);
      toast({
        title: "Compte créé",
        description: "Votre compte administrateur a été créé avec succès"
      });
    },
    onError: (error2) => {
      toast({
        title: "Erreur de création",
        description: error2.message,
        variant: "destructive"
      });
    }
  });
  const logoutMutation = useMutation({
    mutationFn: async () => {
      await apiRequest("POST", "/api/logout");
    },
    onSuccess: () => {
      queryClient.setQueryData(["/api/user"], null);
      toast({
        title: "Déconnexion",
        description: "Vous avez été déconnecté avec succès"
      });
    },
    onError: (error2) => {
      toast({
        title: "Erreur de déconnexion",
        description: error2.message,
        variant: "destructive"
      });
    }
  });
  return /* @__PURE__ */ jsxDEV(
    AuthContext.Provider,
    {
      value: {
        user: user ?? null,
        isLoading,
        error,
        loginMutation,
        logoutMutation,
        registerMutation
      },
      children
    },
    void 0,
    false,
    {
      fileName: "/Users/thibault/Développements /CJD80/cjd80/client/src/hooks/use-auth.tsx",
      lineNumber: 125,
      columnNumber: 5
    },
    this
  );
}
_s(AuthProvider, "uIAIzVUefePK7ID4oGDRqIkStAE=", false, function() {
  return [useToast, useQuery, useMutation, useMutation, useMutation];
});
_c = AuthProvider;
export function useAuth() {
  _s2();
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}
_s2(useAuth, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
var _c;
$RefreshReg$(_c, "AuthProvider");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/thibault/Développements /CJD80/cjd80/client/src/hooks/use-auth.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("/Users/thibault/Développements /CJD80/cjd80/client/src/hooks/use-auth.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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SUFBQyxZQUFZO0FBQUEsSUFBWjtBQUFBLE1BQ0MsT0FBTztBQUFBLFFBQ0xyQixNQUFNQSxRQUFRO0FBQUEsUUFDZEU7QUFBQUEsUUFDQUQ7QUFBQUEsUUFDQUs7QUFBQUEsUUFDQWlCO0FBQUFBLFFBQ0FEO0FBQUFBLE1BQ0Y7QUFBQSxNQUVDMUI7QUFBQUE7QUFBQUEsSUFWSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFXQTtBQUVKO0FBQUNDLEdBNUZlRixjQUFZO0FBQUEsVUFDUkYsVUFLZEwsVUFLa0JDLGFBMEJHQSxhQXFCRkEsV0FBVztBQUFBO0FBQUFtQyxLQTFEcEI3QjtBQThGVCxnQkFBUzhCLFVBQVU7QUFBQUMsTUFBQTtBQUN4QixRQUFNQyxVQUFVeEMsV0FBV08sV0FBVztBQUN0QyxNQUFJLENBQUNpQyxTQUFTO0FBQ1osVUFBTSxJQUFJaEIsTUFBTSw2Q0FBNkM7QUFBQSxFQUMvRDtBQUNBLFNBQU9nQjtBQUNUO0FBQUNELElBTmVELFNBQU87QUFBQSxJQUFBRDtBQUFBSSxhQUFBSixJQUFBIiwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VRdWVyeSIsInVzZU11dGF0aW9uIiwiZ2V0UXVlcnlGbiIsImFwaVJlcXVlc3QiLCJxdWVyeUNsaWVudCIsInVzZVRvYXN0IiwiQXV0aENvbnRleHQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsIl9zIiwidG9hc3QiLCJkYXRhIiwidXNlciIsImVycm9yIiwiaXNMb2FkaW5nIiwicXVlcnlLZXkiLCJxdWVyeUZuIiwib240MDEiLCJsb2dpbk11dGF0aW9uIiwibXV0YXRpb25GbiIsImNyZWRlbnRpYWxzIiwicmVzIiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJvblN1Y2Nlc3MiLCJzZXRRdWVyeURhdGEiLCJpbnZhbGlkYXRlUXVlcmllcyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJvbkVycm9yIiwibWVzc2FnZSIsInZhcmlhbnQiLCJyZWdpc3Rlck11dGF0aW9uIiwibG9nb3V0TXV0YXRpb24iLCJfYyIsInVzZUF1dGgiLCJfczIiLCJjb250ZXh0IiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbInVzZS1hdXRoLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBSZWFjdE5vZGUsIHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHVzZVF1ZXJ5LFxuICB1c2VNdXRhdGlvbixcbiAgVXNlTXV0YXRpb25SZXN1bHQsXG59IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtcXVlcnlcIjtcbmltcG9ydCB7IGluc2VydFVzZXJTY2hlbWEsIFVzZXIgYXMgU2VsZWN0VXNlciwgSW5zZXJ0VXNlciB9IGZyb20gXCJAc2hhcmVkL3NjaGVtYVwiO1xuaW1wb3J0IHsgZ2V0UXVlcnlGbiwgYXBpUmVxdWVzdCwgcXVlcnlDbGllbnQgfSBmcm9tIFwiLi4vbGliL3F1ZXJ5Q2xpZW50XCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2hvb2tzL3VzZS10b2FzdFwiO1xuXG50eXBlIEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgdXNlcjogU2VsZWN0VXNlciB8IG51bGw7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IEVycm9yIHwgbnVsbDtcbiAgbG9naW5NdXRhdGlvbjogVXNlTXV0YXRpb25SZXN1bHQ8U2VsZWN0VXNlciwgRXJyb3IsIExvZ2luRGF0YT47XG4gIGxvZ291dE11dGF0aW9uOiBVc2VNdXRhdGlvblJlc3VsdDx2b2lkLCBFcnJvciwgdm9pZD47XG4gIHJlZ2lzdGVyTXV0YXRpb246IFVzZU11dGF0aW9uUmVzdWx0PFNlbGVjdFVzZXIsIEVycm9yLCBJbnNlcnRVc2VyPjtcbn07XG5cbnR5cGUgTG9naW5EYXRhID0ge1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCBudWxsPihudWxsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHtcbiAgICBkYXRhOiB1c2VyLFxuICAgIGVycm9yLFxuICAgIGlzTG9hZGluZyxcbiAgfSA9IHVzZVF1ZXJ5PFNlbGVjdFVzZXIgfCB1bmRlZmluZWQsIEVycm9yPih7XG4gICAgcXVlcnlLZXk6IFtcIi9hcGkvdXNlclwiXSxcbiAgICBxdWVyeUZuOiBnZXRRdWVyeUZuKHsgb240MDE6IFwicmV0dXJuTnVsbFwiIH0pLFxuICB9KTtcblxuICBjb25zdCBsb2dpbk11dGF0aW9uID0gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IGFzeW5jIChjcmVkZW50aWFsczogTG9naW5EYXRhKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlSZXF1ZXN0KFwiUE9TVFwiLCBcIi9hcGkvbG9naW5cIiwgY3JlZGVudGlhbHMpO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWRlbnRpZmlhbnRzIGluY29ycmVjdHNcIik7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKHVzZXI6IFNlbGVjdFVzZXIpID0+IHtcbiAgICAgIHF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YShbXCIvYXBpL3VzZXJcIl0sIHVzZXIpO1xuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogW1wiL2FwaS91c2VyXCJdIH0pO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25uZXhpb24gcsOpdXNzaWVcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiVm91cyDDqnRlcyBtYWludGVuYW50IGNvbm5lY3TDqSDDoCBsJ2FkbWluaXN0cmF0aW9uXCIsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyIGRlIGNvbm5leGlvblwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCBcIklkZW50aWZpYW50cyBpbmNvcnJlY3RzXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHJlZ2lzdGVyTXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKGNyZWRlbnRpYWxzOiBJbnNlcnRVc2VyKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlSZXF1ZXN0KFwiUE9TVFwiLCBcIi9hcGkvcmVnaXN0ZXJcIiwgY3JlZGVudGlhbHMpO1xuICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6ICh1c2VyOiBTZWxlY3RVc2VyKSA9PiB7XG4gICAgICBxdWVyeUNsaWVudC5zZXRRdWVyeURhdGEoW1wiL2FwaS91c2VyXCJdLCB1c2VyKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQ29tcHRlIGNyw6nDqVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJWb3RyZSBjb21wdGUgYWRtaW5pc3RyYXRldXIgYSDDqXTDqSBjcsOpw6kgYXZlYyBzdWNjw6hzXCIsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uRXJyb3I6IChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRXJyZXVyIGRlIGNyw6lhdGlvblwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgbG9nb3V0TXV0YXRpb24gPSB1c2VNdXRhdGlvbih7XG4gICAgbXV0YXRpb25GbjogYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYXBpUmVxdWVzdChcIlBPU1RcIiwgXCIvYXBpL2xvZ291dFwiKTtcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgcXVlcnlDbGllbnQuc2V0UXVlcnlEYXRhKFtcIi9hcGkvdXNlclwiXSwgbnVsbCk7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkTDqWNvbm5leGlvblwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJWb3VzIGF2ZXogw6l0w6kgZMOpY29ubmVjdMOpIGF2ZWMgc3VjY8Ooc1wiLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycmV1ciBkZSBkw6ljb25uZXhpb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICB1c2VyOiB1c2VyID8/IG51bGwsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGxvZ2luTXV0YXRpb24sXG4gICAgICAgIGxvZ291dE11dGF0aW9uLFxuICAgICAgICByZWdpc3Rlck11dGF0aW9uLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbiJdLCJmaWxlIjoiL1VzZXJzL3RoaWJhdWx0L0RlzIF2ZWxvcHBlbWVudHMgL0NKRDgwL2NqZDgwL2NsaWVudC9zcmMvaG9va3MvdXNlLWF1dGgudHN4In0=